<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test.it</title>
    <link rel="stylesheet" href="style.css">
    <style></style>
</head>
<body>
    <h1 class="logo">test<span>.</span>it</h1>
    <p class="description">Simple js testing framework</p>
    <div id="line">
        <a href="https://github.com/titulus/testit/archive/v1.0.2.zip" class="download" id="download">Download v1.0.2</a>
        <span class="github">Fork it on &nbsp;<a href="https://github.com/titulus/testit" id="github" target=_blank>GitHub</a></span>
        <span class="wiki">Read manual on &nbsp;<a href="https://github.com/titulus/testit/wiki" id="wiki" target=_blank>Wiki</a></span>
    </div>
    <p class="suggestion">// Open Chrome Dev Console and <b>behold the magic</b>!</p>
    <pre id="code"><span class="function">console</span><span class="method">.log</span>( <span class="comment">// look how test.typeof() works</span>
    test.<span class="method">typeof</span>(<span class="value">1</span>)
   ,test.<span class="method">typeof</span>(<span class="value">"text"</span>)
   ,test.<span class="method">typeof</span>([<span class="value">1</span>,<span class="value">2</span>,<span class="value">3</span>])
   ,test.<span class="method">typeof</span>({a:<span class="value">1</span>,b:<span class="value">2</span>})
   ,test.<span class="method">typeof</span>()
   ,test.<span class="method">typeof</span>(<span class="lang-const">document</span>)
   ,test.<span class="method">typeof</span>(<span class="lang-const">document</span>.<span class="lang-const">getElementsByTagName</span>(<span class="value">"body"</span>))
   ,test.<span class="method">typeof</span>(<span class="lang-const">window</span>)
   ,test.<span class="method">typeof</span>(<span class="lang-const">/yes it is RegExp/</span>));

(<span class="lang-const">function</span> <span class="function">firstFunction</span>() { <span class="comment">// look how test.trace() works</span>
    (<span class="lang-const">function</span> <span class="function">secondFunction</span>() {
        (<span class="lang-const">function</span> <span class="function">lastFunction</span>() {
            <span class="function">console</span><span class="method">.log</span>(test.trace());
        })();
    })();
})();

<span class="lang-const">var</span> Family <span class="lang-const">=</span> { <span class="comment">// Here some complex object</span>
    name: <span class="value">"Desiderio"</span>,
    pet: {
        type: <span class="value">"dog"</span>,
        name: <span class="value">"google"</span>
    },
    members: [
        {
            name: <span class="value">"Titulus"</span>,
            age: <span class="value">23</span>
        },
        {
            name: <span class="value">"Dude"</span>,
            age: <span class="value">Infinity</span>
        }
    ]
}
<span class="lang-const">var</span> myIQ <span class="lang-const">=</span> <span class="value">100</span>; <span class="comment">// and value</span>
<span class="lang-const">var</span> Nothing; <span class="comment">// and empty value</span>

test.it(<span class="value">"hello world"</span>); <span class="comment">// Let's add some simple tests</span>
test.it(<span class="value">2</span><span class="lang-const">+</span><span class="value">2</span><span class="lang-const">==</span><span class="value">5</span>).comment(<span class="value">"i badly taught algebra at school"</span>); <span class="comment">// with comment</span>
test.it(<span class="value">Infinity</span><span class="lang-const">></span><span class="value">Infinity</span><span class="lang-const">-</span><span class="value">1</span>).comment(<span class="value">"philosophically is not it?"</span>); <span class="comment">// with expression</span>
<span class="comment">// check equalence</span>
test.it(myIQ,<span class="value">"genius"</span>).comment(<span class="value">"Am I a genius?"</span>);
test.it(myIQ,(<span class="value">1</span><span class="lang-const">+</span><span class="value">10</span>)<span class="lang-const">*</span><span class="value">12</span> <span class="lang-const">-</span> <span class="value">34</span> <span class="lang-const">+</span> <span class="value">5</span><span class="lang-const">*</span><span class="value">5</span><span class="lang-const">*</span><span class="value">5</span> <span class="lang-const">-</span> <span class="value">123</span>).comment(<span class="value">"check my IQ to be a normal"</span>);
<span class="comment">// try some chain staff</span>
<span class="lang-const">if</span> (test.it(Family).comment(<span class="value">"Is Family exist? Is it not empty?"</span>).result()) {
    <span class="function">console</span><span class="method">.info</span>(<span class="value">"by if: "</span>,<span class="value">"Yep! Here it is!"</span>);
} <span class="lang-const">else</span> {
    <span class="function">console</span><span class="method">.warn</span>(<span class="value">"by if: "</span>,<span class="value">"ALARM! there are no Family"</span>);
}
<span class="comment">// do it again in better way</span>
test.it(Nothing).comment(<span class="value">"Is Nothing exist? Is it not empty?"</span>).callback(
    <span class="lang-const">function</span>(){<span class="function">console</span><span class="method">.info</span>(<span class="value">"by callback: "</span>,<span class="value">"Yep! Here it is!"</span>);}
   ,<span class="lang-const">function</span>(){<span class="function">console</span><span class="method">.warn</span>(<span class="value">"by callback: "</span>,<span class="value">"ALARM! there are no Nothing"</span>);});

test.group(<span class="value">"Empty group"</span>,<span class="lang-const">function</span>(){}); <span class="comment">// try to make a group</span>
test.group(<span class="value">'Family tests'</span>,<span class="lang-const">function</span>(){ <span class="comment">// let's unite it!</span>
    test.it(Family.<span class="value">name</span>,<span class="value">"Zukerberg"</span>).comment(<span class="value">"Do we test Zukerberg's family?"</span>);
    test.it(Family.<span class="value">name</span>,<span class="value">"Desiderio"</span>).comment(<span class="value">"Or Desiderio's?"</span>);
}).comment(<span class="value">"unite!"</span>);
test.group(<span class="value">"Family tests"</span>,<span class="lang-const">function</span>(){ <span class="comment">// and add some test after</span>
    test.it(Family.pet).comment(<span class="value">"Do we have a pet?"</span>)
        .callback(<span class="lang-const">function</span>(){
            <span class="comment">// I add test in your test, so you can test while you testing</span>
            test.it(Family.pet,{type:<span class="value">"dog"</span>, name:<span class="value">"google"</span>}).comment(<span class="value">"Is it right pet?"</span>);
        });
    test.it(Family.house).comment(<span class="value">"Do we have a House?"</span>)
        .callback(<span class="lang-const">function</span>(){
            <span class="comment">// next test will not be executed</span>
            test.it(Family.pet,{type:<span class="value">"Huge"</span>, color:<span class="value">"green"</span>}).comment(<span class="value">"Is it right House?"</span>); 
        });
});
test.group(<span class="value">"here comes strange tests"</span>,<span class="lang-const">function</span>(){
    <span class="comment">// test existance of most important Family properties</span>
    test.them([Family.pet, Family.members])
        .comment(<span class="value">"There must be memebers with pet, to call it a 'Family'"</span>);
    <span class="comment">// test types of names</span>
    test.types([Family.pet.<span class="value">name</span>, Family.<span class="value">name</span>],<span class="value">"string"</span>)
        .comment(<span class="value">"Is names are string type"</span>);
    <span class="comment">// here some magic</span>
    <span class="lang-const">var</span> numberOfMembers <span class="lang-const">=</span> test.<span class="value">type</span>(Family.members,<span class="value">"Array"</span>)
        .comment(<span class="value">"Is it a several members, nor a single member?"</span>)
        .<span class="value">arguments</span>()[<span class="value">0</span>].<span class="value">length</span>;
    test.it(numberOfMembers<span class="lang-const">></span><span class="value">5</span>).comment(<span class="value">"Is it big family?"</span>);
    <span class="comment">// So if we know how many members there, lets check their age</span>
    test.group(<span class="value">"Members age"</span>,<span class="lang-const">function</span>(){
        <span class="lang-const">for</span> (i<span class="lang-const">=</span><span class="value">0</span>;i<span class="lang-const">&lt;</span>numberOfMembers;i<span class="lang-const">++</span>) {
            test.it(Family.members[i].age<span class="lang-const">></span><span class="value">25</span>)
                .comment(<span class="value">"Is "</span><span class="lang-const">+</span>Family.members[i].<span class="value">name</span><span class="lang-const">+</span><span class="value">" older then 25?"</span>);
        }
        test.it().comment(<span class="value">"yep, here is error"</span>); <span class="comment">// add some error to see the trace</span>
    });
});
<span class="comment">// add final test deep in group</span>
test.group(<span class="value">"here comes strange tests"</span>).group(<span class="value">"Members age"</span>,<span class="lang-const">function</span>(){
    test.it(<span class="value">"bye"</span>).comment(<span class="value">"good"</span>);
});

test.done();
</pre><p class=suggestion>// If you are using Firebug - reload the page, if console is blank.</p>
    <!-- framework -->
    <script src='./testit.v1.0.2.min.js'></script>
    <!-- script which is represented above -->
    <script src='./example.js'></script>
    <!-- Google Analitycs -->
    <script>
function addListener(element, type, callback) {
 if (element.addEventListener) element.addEventListener(type, callback);
 else if (element.attachEvent) element.attachEvent('on' + type, callback);
}
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-43063051-1', 'titulus.github.io');
ga('send', 'pageview');

addListener(document.getElementById('download'), 'click', function() {ga('send', 'event', 'link', 'click', 'download archive');});
addListener(document.getElementById('github'), 'click', function() {ga('send', 'event', 'link', 'click', 'fork on github');});
addListener(document.getElementById('wiki'), 'click', function() {ga('send', 'event', 'link', 'click', 'read manual');});
    </script>
</body>
</html>